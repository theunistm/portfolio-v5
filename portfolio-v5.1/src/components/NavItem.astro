---
// NavItem.astro - Reusable navigation item component with SVG icon support
export interface Props {
  href: string;
  label: string;
  currentPath: string;
  iconSvg: string;
}

const { href, label, currentPath, iconSvg } = Astro.props;
const isActive = 
  (currentPath === href) || 
  (href === '/#work' && currentPath === '/#work') ||
  (href === '/' && currentPath === '/' && href !== '/#work');
---

<a 
  href={href}
  class="flex items-center gap-2 px-3 py-2 rounded-[12px] transition-colors transition-opacity duration-200 text-[#500F0B] opacity-50 hover:opacity-80 focus-visible:ring-2 focus-visible:ring-[#500F0B] focus-visible:outline-none font-primary nav-font"
  style="backface-visibility: hidden; -webkit-backface-visibility: hidden;"
  aria-current={isActive ? 'page' : undefined}
  data-section={href === '/#work' ? 'work' : ''}
  data-nav-item
  aria-label={label}
>
  <span class="icon w-5 h-5" aria-hidden="true" set:html={iconSvg.replace(/fill="black"/g, 'fill="currentColor"')} />
  <span class="text-[18px]">{label}</span>
</a>

<style>
  a[aria-current="page"] {
    background-color: #500F0B;
    color: #FBF9F5;
    border: 1px solid #FBF9F5;
    opacity: 1;
  }

  a:hover {
    opacity: 0.8;
  }
</style>
